joey-benchmark
==============

### 性能测试框架重要组件 ###
- 性能测试运行框架类 `Benchmark`
- 性能测试运行线程 `BenchThread`
- 控制性能测试运行的内部状态 `Benchmark.State`
- 每个性能测试对象数据指标 `Stats`

-----

### 性能测试的需要关心数据指标有哪些？###
- 测试过程数据：
     - 测试开始时间 `start`
     - 测试结束时间 `finish`
     - 测试持续时间 `seconds (finish - start)`
- 测试目标数据：`Stats`
     - 并发执行的每个操作耗费时间统计值直方图表示（操作耗时的分布、操作耗时的平均值/最大最小值、操作耗时的中位数、标准差）
     - 一次操作读写的字节数 `bytes`

### 性能测试框架组件 `Benchmakr` ###
- 并发测试框架的状态 `Benchmark.State`
     - 并发数 `tota`l
     - 每个线程执行操作的次数 `cnt`

     - 条件变量 `numInitialized >= total`；并发线程是否全部创建、初始化完毕
     - 条件变量 `started`；并发执行操作是否允许开始
     - 条件变量 `numDone`；并发线程是否全部执行完毕了
- 并发测试框架的状态
     - 根据配置创建并发线程并且运行
     - 等待条件变量`numInitialized`，所有的并发线程都完成初始化工作
     - 设置条件变量`started`，这样所有并发线程可以开始执行了
     - 等待条件变量`numDone`，所有的并发线程都执行完毕
     - 合并各个线程的测试数据，最后给出report
- 性能测试框架对外接口run方法 `Benchmark`

### 并发测试线程 ###
- 并发线程的内部状态
     - 此线程性能测试获得数据
- 并发线程的状态
     - 初始化
     - 等待其他并发线程初始化完毕，benchmark开始
     - 循环运行测试操作
     - 执行完毕

### 直方图工具类###

统计取样值的分布，平局值/最大最小值、中位数、标准差

